package nam.tran.data.mapper

import nam.tran.data.entities.RepositoryEntityData
import nam.tran.domain.entities.LicenseRepository
import nam.tran.domain.entities.OwnerRepository
import nam.tran.domain.entities.RepositoryEntity

class RepositoryMapper : Mapper<RepositoryEntityData, RepositoryEntity>() {

    override fun mapFrom(e: RepositoryEntityData): RepositoryEntity {
        val owner = OwnerRepository(e.owner.avatarUrl,
                e.owner.eventsUrl,
                e.owner.followersUrl,
                e.owner.followingUrl,
                e.owner.gistsUrl,
                e.owner.gravatarId,
                e.owner.htmlUrl,
                e.owner.id,
                e.owner.login,
                e.owner.nodeId,
                e.owner.organizationsUrl,
                e.owner.receivedEventsUrl,
                e.owner.reposUrl,
                e.owner.siteAdmin,
                e.owner.starredUrl,
                e.owner.subscriptionsUrl,
                e.owner.type,
                e.owner.url)

        val license = e.license?.run {
            LicenseRepository(key,
                    name,
                    nodeId,
                    spdxId,
                    url)
        }

        return RepositoryEntity(e._private,
                e.archiveUrl,
                e.archived,
                e.assigneesUrl,
                e.blobsUrl,
                e.branchesUrl,
                e.cloneUrl,
                e.collaboratorsUrl,
                e.commentsUrl,
                e.commitsUrl,
                e.compareUrl,
                e.contentsUrl,
                e.contributorsUrl,
                e.createdAt,
                e.defaultBranch,
                e.deploymentsUrl,
                e.description,
                e.disabled,
                e.downloadsUrl,
                e.eventsUrl,
                e.fork,
                e.forks,
                e.forksCount,
                e.forksUrl,
                e.fullName,
                e.gitCommitsUrl,
                e.gitRefsUrl,
                e.gitTagsUrl,
                e.gitUrl,
                e.hasDownloads,
                e.hasIssues,
                e.hasPages,
                e.hasProjects,
                e.hasWiki,
                e.homepage,
                e.hooksUrl,
                e.htmlUrl,
                e.id,
                e.issueCommentUrl,
                e.issueEventsUrl,
                e.issuesUrl,
                e.keysUrl,
                e.labelsUrl,
                e.language,
                e.languagesUrl,
                license,
                e.mergesUrl,
                e.milestonesUrl,
                e.mirrorUrl,
                e.name,
                e.nodeId,
                e.notificationsUrl,
                e.openIssues,
                e.openIssuesCount,
                owner,
                e.pullsUrl,
                e.pushedAt,
                e.releasesUrl,
                e.size,
                e.sshUrl,
                e.stargazersCount,
                e.stargazersUrl,
                e.statusesUrl,
                e.subscribersUrl,
                e.subscriptionUrl,
                e.svnUrl,
                e.tagsUrl,
                e.teamsUrl,
                e.treesUrl,
                e.updatedAt,
                e.url,
                e.watchers,
                e.watchersCount)
    }
}